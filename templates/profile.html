{% extends "base.html" %}
{% block title %}Profil{% endblock %}
{% block content %}
<div class="page-header fade-in">
    <h1>Profilim</h1>
    <p>KiÅŸisel bilgilerin ve hedeflerin</p>
</div>

<div class="card slide-up" style="margin-bottom:24px">
    <div class="profile-header">
        {% if current_user.profile_photo %}
        <img src="{{ url_for('static', filename=current_user.profile_photo) }}"
            style="width:72px;height:72px;border-radius:50%;object-fit:cover;border:3px solid var(--accent-green)">
        {% else %}
        <div class="profile-avatar">ğŸ‘¤</div>
        {% endif %}
        <div class="profile-info">
            <h2>{{ current_user.first_name or '' }} {{ current_user.last_name or '' }}</h2>
            <p>@{{ current_user.username }} Â· {{ current_user.email }}</p>
        </div>
    </div>

    <div class="profile-stats">
        <div class="profile-stat">
            <div class="value">{{ current_user.age or 'â€”' }}</div>
            <div class="label">YaÅŸ</div>
        </div>
        <div class="profile-stat">
            <div class="value">{{ current_user.height or 'â€”' }}</div>
            <div class="label">Boy (cm)</div>
        </div>
        <div class="profile-stat">
            <div class="value">{{ current_user.weight or 'â€”' }}</div>
            <div class="label">Kilo (kg)</div>
        </div>
        <div class="profile-stat">
            <div class="value">{{ current_user.target_weight or 'â€”' }}</div>
            <div class="label">Hedef Kilo</div>
        </div>
        <div class="profile-stat">
            <div class="value">{{ current_user.calculate_bmi() or 'â€”' }}</div>
            <div class="label">BMI</div>
        </div>
        <div class="profile-stat">
            <div class="value">{{ current_user.daily_calorie_goal }}</div>
            <div class="label">Kalori Hedefi</div>
        </div>
    </div>

    <div style="display:flex;gap:12px;flex-wrap:wrap">
        <a href="{{ url_for('profile.edit') }}" class="btn btn-primary">âœï¸ Profili DÃ¼zenle</a>
        <a href="{{ url_for('calculator.index') }}" class="btn btn-secondary">ğŸ§® HesaplayÄ±cÄ±</a>
    </div>
</div>

<!-- Makro Hedefleri -->
<div class="card slide-up" style="margin-bottom:24px">
    <div class="card-title">ğŸ¯ GÃ¼nlÃ¼k Makro Hedefleri</div>
    <div class="profile-stats" style="margin-top:16px">
        <div class="profile-stat">
            <div class="value" style="color:var(--accent-blue)">{{ current_user.protein_goal or 150 }}g</div>
            <div class="label">Protein</div>
        </div>
        <div class="profile-stat">
            <div class="value" style="color:var(--accent-orange)">{{ current_user.carbs_goal or 200 }}g</div>
            <div class="label">Karbonhidrat</div>
        </div>
        <div class="profile-stat">
            <div class="value" style="color:var(--accent-red)">{{ current_user.fat_goal or 65 }}g</div>
            <div class="label">YaÄŸ</div>
        </div>
        <div class="profile-stat">
            <div class="value" style="color:var(--accent-green)">{{ current_user.daily_calorie_goal }}</div>
            <div class="label">Toplam Kalori</div>
        </div>
    </div>
</div>

{% if current_user.calculate_bmr() %}
<div class="card slide-up">
    <div class="card-title">ğŸ“Š HesaplanmÄ±ÅŸ DeÄŸerler</div>
    <div class="profile-stats" style="margin-top:16px">
        <div class="profile-stat">
            <div class="value">{{ current_user.calculate_bmr() | round | int }}</div>
            <div class="label">BMR (kcal)</div>
        </div>
        <div class="profile-stat">
            <div class="value">{{ current_user.calculate_tdee() | round | int }}</div>
            <div class="label">TDEE (kcal)</div>
        </div>
        <div class="profile-stat">
            <div class="value">{{ current_user.get_bmi_category() }}</div>
            <div class="label">BMI Kategorisi</div>
        </div>
        <div class="profile-stat">
            <div class="value">{{ current_user.daily_water_goal }}L</div>
            <div class="label">Su Hedefi</div>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}