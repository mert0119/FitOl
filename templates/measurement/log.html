{% extends "base.html" %}
{% block title %}VÃ¼cut Ã–lÃ§Ã¼mleri{% endblock %}
{% block content %}
<div class="page-header fade-in">
    <h1>ğŸ“ VÃ¼cut Ã–lÃ§Ã¼mleri</h1>
    <p>VÃ¼cut Ã¶lÃ§Ã¼mlerini kaydet ve grafikle izle</p>
</div>

<div style="margin-bottom:20px">
    <a href="{{ url_for('measurement.chart') }}" class="btn btn-secondary">ğŸ“ˆ Grafikleri GÃ¶r</a>
</div>

<!-- Ã–lÃ§Ã¼m Ekleme -->
<div class="card slide-up" style="margin-bottom:20px">
    <div class="card-title" style="margin-bottom:16px">â• Yeni Ã–lÃ§Ã¼m Ekle</div>
    <form method="POST" action="{{ url_for('measurement.add') }}">
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Tarih</label>
                <input type="date" name="date" class="form-input"
                    value="{{ import('datetime').date.today().isoformat() if false else '' }}" id="measDate">
            </div>
            <div class="form-group">
                <label class="form-label">Kilo (kg)</label>
                <input type="number" name="weight" class="form-input" placeholder="{{ current_user.weight or '75' }}"
                    step="0.1">
            </div>
            <div class="form-group">
                <label class="form-label">Bel (cm)</label>
                <input type="number" name="waist" class="form-input" placeholder="80" step="0.1">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">GÃ¶ÄŸÃ¼s (cm)</label>
                <input type="number" name="chest" class="form-input" placeholder="95" step="0.1">
            </div>
            <div class="form-group">
                <label class="form-label">Kol (cm)</label>
                <input type="number" name="arm" class="form-input" placeholder="35" step="0.1">
            </div>
            <div class="form-group">
                <label class="form-label">Bacak (cm)</label>
                <input type="number" name="leg" class="form-input" placeholder="55" step="0.1">
            </div>
            <div class="form-group">
                <label class="form-label">KalÃ§a (cm)</label>
                <input type="number" name="hip" class="form-input" placeholder="95" step="0.1">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">VÃ¼cut YaÄŸ OranÄ± (%)</label>
                <input type="number" name="body_fat" class="form-input" placeholder="20" step="0.1">
            </div>
            <div class="form-group">
                <label class="form-label">Not</label>
                <input type="text" name="notes" class="form-input" placeholder="Ä°steÄŸe baÄŸlÄ±">
            </div>
        </div>
        <button type="submit" class="btn btn-primary">âœ… Kaydet</button>
    </form>
</div>

<!-- Ã–lÃ§Ã¼m GeÃ§miÅŸi -->
<div class="card slide-up">
    <div class="card-title" style="margin-bottom:16px">ğŸ“‹ Son Ã–lÃ§Ã¼mler</div>
    {% if measurements %}
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Tarih</th>
                    <th>Kilo</th>
                    <th>Bel</th>
                    <th>GÃ¶ÄŸÃ¼s</th>
                    <th>Kol</th>
                    <th>Bacak</th>
                    <th>YaÄŸ %</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for m in measurements %}
                <tr>
                    <td>{{ m.date.strftime('%d/%m/%Y') }}</td>
                    <td><strong>{{ m.weight or 'â€”' }}</strong></td>
                    <td>{{ m.waist or 'â€”' }}</td>
                    <td>{{ m.chest or 'â€”' }}</td>
                    <td>{{ m.arm or 'â€”' }}</td>
                    <td>{{ m.leg or 'â€”' }}</td>
                    <td>{{ m.body_fat or 'â€”' }}</td>
                    <td><a href="{{ url_for('measurement.delete', id=m.id) }}" class="btn btn-danger btn-sm">ğŸ—‘ï¸</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="empty-state">
        <div class="empty-icon">ğŸ“</div>
        <p>HenÃ¼z Ã¶lÃ§Ã¼m kaydÄ± yok</p>
    </div>
    {% endif %}
</div>

<script>document.getElementById('measDate').value = new Date().toISOString().split('T')[0];</script>
{% endblock %}