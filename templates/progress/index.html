{% extends "base.html" %}
{% block title %}Ä°lerleme FotoÄŸraflarÄ±{% endblock %}
{% block content %}
<div class="page-header fade-in">
    <h1>ğŸ“¸ Ä°lerleme FotoÄŸraflarÄ±</h1>
    <p>VÃ¼cut dÃ¶nÃ¼ÅŸÃ¼mÃ¼nÃ¼ fotoÄŸraflarla kaydet ve karÅŸÄ±laÅŸtÄ±r</p>
</div>

<!-- FotoÄŸraf Ekleme -->
<div class="card slide-up" style="margin-bottom:24px">
    <div class="card-title">â• Yeni FotoÄŸraf Ekle</div>
    <form method="POST" action="{{ url_for('progress.add') }}" enctype="multipart/form-data" style="margin-top:16px">
        <div class="form-row">
            <div class="form-group" style="flex:2">
                <label class="form-label">FotoÄŸraf</label>
                <input type="file" name="photo" class="form-input" accept="image/*" required>
            </div>
            <div class="form-group">
                <label class="form-label">Tarih</label>
                <input type="date" name="date" class="form-input" value="{{ today if today else '' }}">
            </div>
            <div class="form-group">
                <label class="form-label">Kilo (kg)</label>
                <input type="number" name="weight" class="form-input" placeholder="75" step="0.1" min="0">
            </div>
        </div>
        <div class="form-group">
            <label class="form-label">Not</label>
            <input type="text" name="notes" class="form-input" placeholder="Ä°steÄŸe baÄŸlÄ± not (Ã¶r: 3. hafta sonu)">
        </div>
        <button type="submit" class="btn btn-primary">ğŸ“¸ YÃ¼kle</button>
    </form>
</div>

<!-- FotoÄŸraf Galerisi -->
<div class="card slide-up">
    <div class="card-title" style="margin-bottom:16px">ğŸ–¼ï¸ Galeri</div>
    {% if photos %}
    <div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(220px, 1fr));gap:16px">
        {% for photo in photos %}
        <div class="card" style="padding:0;overflow:hidden;position:relative">
            <img src="{{ url_for('static', filename=photo.photo_path) }}"
                style="width:100%;height:250px;object-fit:cover;display:block">
            <div style="padding:12px">
                <div style="font-weight:600;font-size:14px">ğŸ“… {{ photo.date.strftime('%d/%m/%Y') }}</div>
                {% if photo.weight %}
                <div style="color:var(--accent-green);font-weight:600">âš–ï¸ {{ photo.weight }} kg</div>
                {% endif %}
                {% if photo.notes %}
                <div style="font-size:12px;color:var(--text-muted);margin-top:4px">{{ photo.notes }}</div>
                {% endif %}
                <a href="{{ url_for('progress.delete', id=photo.id) }}" class="btn btn-danger btn-sm"
                    style="margin-top:8px;width:100%;text-align:center"
                    onclick="return confirm('Silmek istediÄŸinize emin misiniz?')">ğŸ—‘ï¸ Sil</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <div class="empty-icon">ğŸ“¸</div>
        <p>HenÃ¼z ilerleme fotoÄŸrafÄ± yok</p>
        <p style="font-size:14px;color:var(--text-muted)">Ä°lk fotoÄŸrafÄ±nÄ± yÃ¼kleyerek dÃ¶nÃ¼ÅŸÃ¼mÃ¼nÃ¼ takip etmeye baÅŸla!</p>
    </div>
    {% endif %}
</div>
{% endblock %}